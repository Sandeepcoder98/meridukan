<section class="product-container">
  <h3>Shipping Details</h3>
  <hr/>
  <%= form_for(@product) do |f| %>
    <% if @product.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
        <ul>
        <% @product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>
     <%= f.fields_for :product_shipping_detail do |ff| %>

      <div class="row">
        <div class="col-md-4 form-margin-top">
          <%= ff.label :free_delivery do %>
             Free Delivery
            <%= ff.check_box :free_delivery, class: "check-delivery-event"%>
          <% end %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-margin-top">
          <%= ff.label :free_kilometers %>
          <%= ff.number_field :free_kilometers,:class=>'form-control check-delivery', min: 0, :readonly=>ff.object.free_delivery %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-margin-top">
          <%= ff.label :charge_per_kilometer, "Charge per kilometer after free" %>
          <%= ff.text_field :charge_per_kilometer,:class=>'form-control check-delivery', :readonly=>ff.object.free_delivery %>
        </div>
      </div>
    <%end%>
    <%= hidden_field_tag :referrer_action, (params[:referrer_action] || params[:action]) %>
      <div class="row">
        <div class="col-md-4 form-margin-top">
          <%= f.button "Save & Continue",:class=>"btn btn-success" %>
        </div>
      </div>
  <%end%>
</section>
